<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="900.0" stylesheets="@Style.css" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.MainController">
   <top>
        <HBox alignment="CENTER_LEFT" prefHeight="60" spacing="15" styleClass="top-bar" BorderPane.alignment="CENTER">

            <!-- Menu icon -->
            <ImageView fitHeight="20" fitWidth="20">
                <image>
                    <Image url="@image/2976215.png" />
                </image>
            </ImageView>

            <!-- Logo -->
            <ImageView fitHeight="40" preserveRatio="true">
                <image>
                    <Image url="@image/huy-hieu-cong-an-nhan.png" />
                </image>
            </ImageView>

            <Label styleClass="top-title" text="QUẢN LÝ CƯ TRÚ" />

            <!-- Đẩy phần tài khoản sang phải -->
            <Region HBox.hgrow="ALWAYS" />

            <MenuButton styleClass="account-button">
                <graphic>
                    <ImageView fitHeight="24" fitWidth="24">
                        <image>
                            <Image url="@image/TaiKhoan.png" />
                        </image>
                    </ImageView>
                </graphic>
                <items>
                    <MenuItem text="Đổi mật khẩu" />
                    <MenuItem text="Đăng xuất" />
                </items>
            </MenuButton>

        </HBox>
    </top>

   <left>
        <VBox prefWidth="220" spacing="10" styleClass="sidebar" BorderPane.alignment="CENTER">

            <!-- Trang chủ -->
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="menu-item">
                <ImageView fitHeight="18" fitWidth="18">
                    <image>
                        <Image url="@image/17875224.png" />
                    </image>
                </ImageView>
                <Button onAction="#loadTrangChu" styleClass="menu-button" text="Trang chủ" />
            </HBox>

            <!-- Nhân khẩu -->
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="menu-item">
                <ImageView fitHeight="18" fitWidth="18">
                    <image>
                        <Image url="@image/1769059.png" />
                    </image>
                </ImageView>
                <Button onAction="#loadNhanKhau" styleClass="menu-button" text="Nhân khẩu" />
            </HBox>

            <!-- Hộ khẩu -->
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="menu-item">
                <ImageView fitHeight="18" fitWidth="18">
                    <image>
                        <Image url="@image/18995545.png" />
                    </image>
                </ImageView>
                <Button onAction="#loadHoKhau" styleClass="menu-button" text="Hộ khẩu" />
            </HBox>

            <!-- ĐK giấy tờ -->
            <VBox spacing="5">

                <!-- MENU CHA -->
                <HBox alignment="CENTER_LEFT" onMouseClicked="#toggleGiayTo" spacing="15" styleClass="menu-item">

                    <ImageView fitHeight="18" fitWidth="18">
                        <image>
                            <Image url="@image/1968607.png" />
                        </image>
                    </ImageView>

                    <Button styleClass="menu-button" text="ĐK giấy tờ" />

                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="arrowGiayTo" styleClass="menu-arrow" text="▶" />
                </HBox>

                <!-- SUB MENU -->
                <VBox fx:id="giayToMenu" managed="false" spacing="3" styleClass="submenu" visible="false">

                    <Button onAction="#loadDKThuongTru" styleClass="submenu-button" text="Thường trú" />
                    <Button onAction="#loadDKTamTru" styleClass="submenu-button" text="Tạm trú" />
                    <Button onAction="#loadDKTamVang" styleClass="submenu-button" text="Tạm vắng" />

                </VBox>
            </VBox>
         <HBox alignment="CENTER_LEFT" spacing="15" styleClass="menu-item">
            <children>
               <ImageView fitHeight="18" fitWidth="18">
                  <image>
                     <Image url="@image/6344008.png" />
                  </image>
               </ImageView>
               <Button onAction="#loadPhi" styleClass="menu-button" text="Thu phí" />
            </children>
         </HBox>
        </VBox>
    </left>
   <center>
      <javafx.scene.layout.StackPane fx:id="contentPane" BorderPane.alignment="CENTER">
         <BorderPane.margin>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </BorderPane.margin></javafx.scene.layout.StackPane>
   </center>

</BorderPane>
